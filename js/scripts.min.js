
!function(n) {
  n("html").removeClass("no-js");
  n("header a").click(function(e) {
    if (!n(this).hasClass("no-scroll")) {
      e.preventDefault();
      var targetPage = '/';
      var t = n(this).attr("href");
      
      if (t === '#home') {
        window.location.href = targetPage;
      } else {
        var targetElement = document.querySelector(t);
        targetElement.scrollIntoView({ behavior: 'smooth' });
      }

      if (n("header").hasClass("active")) {
        n("header, body").removeClass("active");
      }
    }
  }),

n("#to-top").click(function(){n("html, body").animate({scrollTop:0},500)}),n("#lead-down span").click(function(){var e=n("#lead").next().offset().top;n("html, body").animate({scrollTop:e+"px"},500)}),n("#experience-timeline").each(function(){$this=n(this),$userContent=$this.children("div"),$userContent.each(function(){n(this).addClass("vtimeline-content").wrap('<div class="vtimeline-point"><div class="vtimeline-block"></div></div>')}),$this.find(".vtimeline-point").each(function(){n(this).prepend('<div class="vtimeline-icon"><i class="fa fa-map-marker"></i></div>')}),$this.find(".vtimeline-content").each(function(){var e=n(this).data("date");e&&n(this).parent().prepend('<span class="vtimeline-date">'+e+"</span>")})}),n("#mobile-menu-open").click(function(){n("header, body").addClass("active")}),n("#mobile-menu-close").click(function(){n("header, body").removeClass("active")}),n("#view-more-projects").click(function(e){e.preventDefault(),n(this).fadeOut(300,function(){n("#more-projects").fadeIn(300)})})}(jQuery);

// $(document).ready(function(){$(".product-image img").click(function(){this.requestFullscreen()})});

document.addEventListener('DOMContentLoaded', function() {
  const popupImages = document.querySelectorAll('.popup-image');

  popupImages.forEach(function(image) {
    image.addEventListener('click', function() {
      // Thêm hoặc xóa lớp active để hiển thị hoặc ẩn hình ảnh đầy đủ
      this.classList.toggle('active');
    });
  });
});





document.addEventListener("DOMContentLoaded", function() {
  var lazyImages = [].slice.call(document.querySelectorAll("img[data-src]"));

  if ("IntersectionObserver" in window) {
    var lazyImageObserver = new IntersectionObserver(function(entries, observer) {
      entries.forEach(function(entry) {
        if (entry.isIntersecting) {
          var lazyImage = entry.target;
          lazyImage.src = lazyImage.dataset.src;
          lazyImageObserver.unobserve(lazyImage);
        }
      });
    });

    lazyImages.forEach(function(lazyImage) {
      lazyImageObserver.observe(lazyImage);
    });
  } else {
    // Fallback for browsers that do not support Intersection Observer API
    // Tải tất cả hình ảnh lười biếng ngay từ đầu
    lazyImages.forEach(function(lazyImage) {
      lazyImage.src = lazyImage.dataset.src;
    });
  }
});

// Đợi cho tất cả các phần tử HTML được tải xong
document.addEventListener("DOMContentLoaded", function () {
  // Lấy danh sách các phần tử li trong menu
  var menuItems = document.querySelectorAll("#menu li");

  // Lặp qua từng phần tử li
  menuItems.forEach(function (menuItem) {
      // Lấy href từ thẻ a trong từng li
      var href = menuItem.querySelector("a").getAttribute("href");

      // Kiểm tra nếu href bắt đầu bằng "#"
      if (href.startsWith("#")) {
          // Lắng nghe sự kiện click trên thẻ a
          menuItem.querySelector("a").addEventListener("click", function (event) {
              event.preventDefault(); // Ngăn chặn hành vi mặc định của thẻ a

              // Lấy ID từ href và scroll đến vị trí có ID tương ứng
              var targetID = href.substring(1);
              var targetElement = document.getElementById(targetID);

              // Kiểm tra xem phần tử có tồn tại không
              if (targetElement) {
                  // Scroll đến phần tử có ID tương ứng
                  targetElement.scrollIntoView({ behavior: "smooth" });

                  // Xóa lớp "active" từ tất cả các li trong menu
                  menuItems.forEach(function (item) {
                      item.classList.remove("active");
                  });

                  // Thêm lớp "active" vào li hiện tại
                  menuItem.classList.add("active");
              }
          });
      }
  });

  // Lắng nghe sự kiện cuộn trên cửa sổ
  window.addEventListener("scroll", function () {
      // Lấy vị trí cuộn hiện tại của cửa sổ
      var scrollPosition = window.scrollY;

      // Kiểm tra xem cửa sổ có cuộn lên đầu trang không
      if (scrollPosition === 0) {
          // Nếu cuộn lên đầu trang, xóa lớp "active" khỏi tất cả các li trong menu
          menuItems.forEach(function (item) {
              item.classList.remove("active");
          });
      } else {
          // Nếu không cuộn lên đầu trang, kiểm tra các div có ID tương ứng và thêm lớp "active" cho li tương ứng
          menuItems.forEach(function (menuItem) {
              var href = menuItem.querySelector("a").getAttribute("href");
              if (href.startsWith("#")) {
                  var targetID = href.substring(1);
                  var targetElement = document.getElementById(targetID);
                  if (targetElement && isElementInViewport(targetElement)) {
                      menuItems.forEach(function (item) {
                          item.classList.remove("active");
                      });
                      menuItem.classList.add("active");
                  }
              }
          });
      }
  });

  // Hàm kiểm tra xem một phần tử có nằm trong vùng hiển thị của cửa sổ không
  function isElementInViewport(element) {
      var rect = element.getBoundingClientRect();
      return (
          rect.top >= 0 &&
          rect.left >= 0 &&
          rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
          rect.right <= (window.innerWidth || document.documentElement.clientWidth)
      );
  }
});

// var words = ['Hi, I am a Graphic Designer', 'I am also known as the Editor', 'And I also a Cat Lover'],
//     part,
//     i = 0,
//     offset = 0,
//     len = words.length,
//     forwards = true,
//     skip_count = 0,
//     skip_delay = 15,
//     speed = 70;
// var wordflick = function () {
//   setInterval(function () {
//     if (forwards) {
//       if (offset >= words[i].length) {
//         ++skip_count;
//         if (skip_count == skip_delay) {
//           forwards = false;
//           skip_count = 0;
//         }
//       }
//     }
//     else {
//       if (offset == 0) {
//         forwards = true;
//         i++;
//         offset = 0;
//         if (i >= len) {
//           i = 0;
//         }
//       }
//     }
//     part = words[i].substr(0, offset);
//     if (skip_count == 0) {
//       if (forwards) {
//         offset++;
//       }
//       else {
//         offset--;
//       }
//     }
//     $('.word').text(part);
//   },speed);
// };

// $(document).ready(function () {
//   wordflick();
// });
